{"version":3,"sources":["webpack:///./src/app/components/tree/tree.ts"],"names":[],"mappings":"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","file":"default~components-responsive-responsivedemo-module~components-tree-treedemo-module-es5.js","sourcesContent":["import {NgModule,Component,Input,AfterContentInit,OnDestroy,Output,EventEmitter,OnInit,EmbeddedViewRef,ViewContainerRef,\r\n    ContentChildren,QueryList,TemplateRef,Inject,ElementRef,forwardRef,Host} from '@angular/core';\r\nimport {Optional} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {TreeNode} from '../common/treenode';\r\nimport {SharedModule} from '../common/shared';\r\nimport {PrimeTemplate} from '../common/shared';\r\nimport {TreeDragDropService} from '../common/treedragdropservice';\r\nimport {Subscription}   from 'rxjs';\r\nimport {BlockableUI} from '../common/blockableui';\r\nimport {ObjectUtils} from '../utils/objectutils';\r\nimport {DomHandler} from '../common/api';\r\n\r\n@Component({\r\n    selector: 'p-treeNode',\r\n    template: `\r\n        <ng-template [ngIf]=\"node\">\r\n            <li *ngIf=\"tree.droppableNodes\" class=\"ui-treenode-droppoint\" [ngClass]=\"{'ui-treenode-droppoint-active ui-state-highlight':draghoverPrev}\"\r\n            (drop)=\"onDropPoint($event,-1)\" (dragover)=\"onDropPointDragOver($event)\" (dragenter)=\"onDropPointDragEnter($event,-1)\" (dragleave)=\"onDropPointDragLeave($event)\"></li>\r\n            <li *ngIf=\"!tree.horizontal\" role=\"treeitem\" [ngClass]=\"['ui-treenode',node.styleClass||'', isLeaf() ? 'ui-treenode-leaf': '']\">\r\n                <div class=\"ui-treenode-content\" (click)=\"onNodeClick($event)\" (contextmenu)=\"onNodeRightClick($event)\" (touchend)=\"onNodeTouchEnd()\"\r\n                    (drop)=\"onDropNode($event)\" (dragover)=\"onDropNodeDragOver($event)\" (dragenter)=\"onDropNodeDragEnter($event)\" (dragleave)=\"onDropNodeDragLeave($event)\"\r\n                    [draggable]=\"tree.draggableNodes\" (dragstart)=\"onDragStart($event)\" (dragend)=\"onDragStop($event)\" tabIndex=\"0\"\r\n                    [ngClass]=\"{'ui-treenode-selectable':tree.selectionMode && node.selectable !== false,'ui-treenode-dragover':draghoverNode, 'ui-treenode-content-selected':isSelected()}\" \r\n                    (keydown)=\"onKeyDown($event)\" [attr.aria-posinset]=\"this.index + 1\" [attr.aria-expanded]=\"this.node.expanded\" [attr.aria-selected]=\"isSelected()\">\r\n                    <span class=\"ui-tree-toggler pi pi-fw ui-unselectable-text\" [ngClass]=\"{'pi-caret-right':!node.expanded,'pi-caret-down':node.expanded}\"\r\n                            (click)=\"toggle($event)\"></span\r\n                    ><div class=\"ui-chkbox\" *ngIf=\"tree.selectionMode == 'checkbox'\"><div class=\"ui-chkbox-box ui-widget ui-corner-all ui-state-default\" [ngClass]=\"{'ui-state-disabled': node.selectable === false}\">\r\n                        <span class=\"ui-chkbox-icon ui-clickable pi\"\r\n                            [ngClass]=\"{'pi-check':isSelected(),'pi-minus':node.partialSelected}\"></span></div></div\r\n                    ><span [class]=\"getIcon()\" *ngIf=\"node.icon||node.expandedIcon||node.collapsedIcon\"></span\r\n                    ><span class=\"ui-treenode-label ui-corner-all\"\r\n                        [ngClass]=\"{'ui-state-highlight':isSelected()}\">\r\n                            <span *ngIf=\"!tree.getTemplateForNode(node)\">{{node.label}}</span>\r\n                            <span *ngIf=\"tree.getTemplateForNode(node)\">\r\n                                <ng-container *ngTemplateOutlet=\"tree.getTemplateForNode(node); context: {$implicit: node}\"></ng-container>\r\n                            </span>\r\n                    </span>\r\n                </div>\r\n                <ul class=\"ui-treenode-children\" style=\"display: none;\" *ngIf=\"node.children && node.expanded\" [style.display]=\"node.expanded ? 'block' : 'none'\" role=\"group\">\r\n                    <p-treeNode *ngFor=\"let childNode of node.children;let firstChild=first;let lastChild=last; let index=index; trackBy: tree.nodeTrackBy\" [node]=\"childNode\" [parentNode]=\"node\"\r\n                        [firstChild]=\"firstChild\" [lastChild]=\"lastChild\" [index]=\"index\"></p-treeNode>\r\n                </ul>\r\n            </li>\r\n            <li *ngIf=\"tree.droppableNodes&&lastChild\" class=\"ui-treenode-droppoint\" [ngClass]=\"{'ui-treenode-droppoint-active ui-state-highlight':draghoverNext}\"\r\n            (drop)=\"onDropPoint($event,1)\" (dragover)=\"onDropPointDragOver($event)\" (dragenter)=\"onDropPointDragEnter($event,1)\" (dragleave)=\"onDropPointDragLeave($event)\"></li>\r\n            <table *ngIf=\"tree.horizontal\" [class]=\"node.styleClass\">\r\n                <tbody>\r\n                    <tr>\r\n                        <td class=\"ui-treenode-connector\" *ngIf=\"!root\">\r\n                            <table class=\"ui-treenode-connector-table\">\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td [ngClass]=\"{'ui-treenode-connector-line':!firstChild}\"></td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td [ngClass]=\"{'ui-treenode-connector-line':!lastChild}\"></td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </td>\r\n                        <td class=\"ui-treenode\" [ngClass]=\"{'ui-treenode-collapsed':!node.expanded}\">\r\n                            <div class=\"ui-treenode-content ui-state-default ui-corner-all\"\r\n                                [ngClass]=\"{'ui-treenode-selectable':tree.selectionMode,'ui-state-highlight':isSelected()}\" (click)=\"onNodeClick($event)\" (contextmenu)=\"onNodeRightClick($event)\"\r\n                                (touchend)=\"onNodeTouchEnd()\">\r\n                                <span class=\"ui-tree-toggler pi pi-fw ui-unselectable-text\" [ngClass]=\"{'pi-plus':!node.expanded,'pi-minus':node.expanded}\" *ngIf=\"!isLeaf()\"\r\n                                        (click)=\"toggle($event)\"></span\r\n                                ><span [class]=\"getIcon()\" *ngIf=\"node.icon||node.expandedIcon||node.collapsedIcon\"></span\r\n                                ><span class=\"ui-treenode-label ui-corner-all\">\r\n                                        <span *ngIf=\"!tree.getTemplateForNode(node)\">{{node.label}}</span>\r\n                                        <span *ngIf=\"tree.getTemplateForNode(node)\">\r\n                                        <ng-container *ngTemplateOutlet=\"tree.getTemplateForNode(node); context: {$implicit: node}\"></ng-container>\r\n                                        </span>\r\n                                </span>\r\n                            </div>\r\n                        </td>\r\n                        <td class=\"ui-treenode-children-container\" *ngIf=\"node.children && node.expanded\" [style.display]=\"node.expanded ? 'table-cell' : 'none'\">\r\n                            <div class=\"ui-treenode-children\">\r\n                                <p-treeNode *ngFor=\"let childNode of node.children;let firstChild=first;let lastChild=last; trackBy: tree.nodeTrackBy\" [node]=\"childNode\"\r\n                                        [firstChild]=\"firstChild\" [lastChild]=\"lastChild\"></p-treeNode>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </ng-template>\r\n    `\r\n})\r\nexport class UITreeNode implements OnInit {\r\n\r\n    static ICON_CLASS: string = 'ui-treenode-icon ';\r\n\r\n    @Input() node: TreeNode;\r\n\r\n    @Input() parentNode: TreeNode;\r\n\r\n    @Input() root: boolean;\r\n\r\n    @Input() index: number;\r\n\r\n    @Input() firstChild: boolean;\r\n\r\n    @Input() lastChild: boolean;\r\n\r\n    tree: Tree;\r\n\r\n    constructor(@Inject(forwardRef(() => Tree)) tree) {\r\n        this.tree = tree as Tree;\r\n    }\r\n\r\n    draghoverPrev: boolean;\r\n\r\n    draghoverNext: boolean;\r\n\r\n    draghoverNode: boolean\r\n\r\n    ngOnInit() {\r\n        this.node.parent = this.parentNode;\r\n\r\n        if (this.parentNode) {\r\n            this.tree.syncNodeOption(this.node, this.tree.value, 'parent', this.tree.getNodeWithKey(this.parentNode.key, this.tree.value));\r\n        }\r\n    }\r\n\r\n    getIcon() {\r\n        let icon: string;\r\n\r\n        if(this.node.icon)\r\n            icon = this.node.icon;\r\n        else\r\n            icon = this.node.expanded && this.node.children && this.node.children.length ? this.node.expandedIcon : this.node.collapsedIcon;\r\n\r\n        return UITreeNode.ICON_CLASS + ' ' + icon;\r\n    }\r\n\r\n    isLeaf() {\r\n        return this.tree.isNodeLeaf(this.node);\r\n    }\r\n\r\n    toggle(event: Event) {\r\n        if(this.node.expanded)\r\n            this.collapse(event);\r\n        else\r\n            this.expand(event);\r\n    }\r\n\r\n    expand(event: Event) {\r\n        this.node.expanded = true;\r\n        this.tree.onNodeExpand.emit({originalEvent: event, node: this.node});\r\n    }\r\n\r\n    collapse(event: Event) {\r\n        this.node.expanded = false;\r\n        this.tree.onNodeCollapse.emit({originalEvent: event, node: this.node});\r\n    }\r\n\r\n    onNodeClick(event: MouseEvent) {\r\n        this.tree.onNodeClick(event, this.node);\r\n    }\r\n\r\n    onNodeTouchEnd() {\r\n        this.tree.onNodeTouchEnd();\r\n    }\r\n\r\n    onNodeRightClick(event: MouseEvent) {\r\n        this.tree.onNodeRightClick(event, this.node);\r\n    }\r\n\r\n    isSelected() {\r\n        return this.tree.isSelected(this.node);\r\n    }\r\n\r\n    onDropPoint(event: Event, position: number) {\r\n        event.preventDefault();\r\n        let dragNode = this.tree.dragNode;\r\n        let dragNodeIndex = this.tree.dragNodeIndex;\r\n        let dragNodeScope = this.tree.dragNodeScope;\r\n        let isValidDropPointIndex = this.tree.dragNodeTree === this.tree ? (position === 1 || dragNodeIndex !== this.index - 1) : true;\r\n\r\n        if(this.tree.allowDrop(dragNode, this.node, dragNodeScope) && isValidDropPointIndex) {\r\n            if (this.tree.validateDrop) {\r\n                this.tree.onNodeDrop.emit({\r\n                    originalEvent: event,\r\n                    dragNode: dragNode,\r\n                    dropNode: this.node,\r\n                    dropIndex: this.index,\r\n                    accept: () => {\r\n                        this.processPointDrop(dragNode, dragNodeIndex, position);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                this.processPointDrop(dragNode, dragNodeIndex, position);\r\n                this.tree.onNodeDrop.emit({\r\n                    originalEvent: event,\r\n                    dragNode: dragNode,\r\n                    dropNode: this.node,\r\n                    dropIndex: this.index\r\n                });\r\n            }\r\n        }\r\n\r\n        this.draghoverPrev = false;\r\n        this.draghoverNext = false;\r\n    }\r\n\r\n    processPointDrop(dragNode, dragNodeIndex, position) {\r\n        let newNodeList = this.node.parent ? this.node.parent.children : this.tree.value;\r\n        this.tree.dragNodeSubNodes.splice(dragNodeIndex, 1);\r\n        let dropIndex = this.index;\r\n\r\n        if(position < 0) {\r\n            dropIndex = (this.tree.dragNodeSubNodes === newNodeList) ? ((this.tree.dragNodeIndex > this.index) ? this.index : this.index - 1) : this.index;\r\n            newNodeList.splice(dropIndex, 0, dragNode);\r\n        }\r\n        else {\r\n            dropIndex = newNodeList.length;\r\n            newNodeList.push(dragNode);\r\n        }\r\n\r\n        this.tree.dragDropService.stopDrag({\r\n            node: dragNode,\r\n            subNodes: this.node.parent ? this.node.parent.children : this.tree.value,\r\n            index: dragNodeIndex\r\n        });\r\n    }\r\n\r\n    onDropPointDragOver(event) {\r\n        event.dataTransfer.dropEffect = 'move';\r\n        event.preventDefault();\r\n    }\r\n\r\n    onDropPointDragEnter(event: Event, position: number) {\r\n        if(this.tree.allowDrop(this.tree.dragNode, this.node, this.tree.dragNodeScope)) {\r\n            if(position < 0)\r\n                this.draghoverPrev = true;\r\n            else\r\n                this.draghoverNext = true;\r\n        }\r\n    }\r\n\r\n    onDropPointDragLeave(event: Event) {\r\n        this.draghoverPrev = false;\r\n        this.draghoverNext = false;\r\n    }\r\n\r\n    onDragStart(event) {\r\n        if(this.tree.draggableNodes && this.node.draggable !== false) {\r\n            event.dataTransfer.setData(\"text\", \"data\");\r\n\r\n            this.tree.dragDropService.startDrag({\r\n                tree: this,\r\n                node: this.node,\r\n                subNodes: this.node.parent ? this.node.parent.children : this.tree.value,\r\n                index: this.index,\r\n                scope: this.tree.draggableScope\r\n            });\r\n        }\r\n        else {\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    onDragStop(event) {\r\n        this.tree.dragDropService.stopDrag({\r\n            node: this.node,\r\n            subNodes: this.node.parent ? this.node.parent.children : this.tree.value,\r\n            index: this.index\r\n        });\r\n    }\r\n\r\n    onDropNodeDragOver(event) {\r\n        event.dataTransfer.dropEffect = 'move';\r\n        if(this.tree.droppableNodes) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }\r\n    }\r\n\r\n    onDropNode(event) {\r\n        if(this.tree.droppableNodes && this.node.droppable !== false) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            let dragNode = this.tree.dragNode;\r\n            if(this.tree.allowDrop(dragNode, this.node, this.tree.dragNodeScope)) {\r\n                if(this.tree.validateDrop) {\r\n                    this.tree.onNodeDrop.emit({\r\n                        originalEvent: event,\r\n                        dragNode: dragNode,\r\n                        dropNode: this.node,\r\n                        index: this.index,\r\n                        accept: () => {\r\n                            this.processNodeDrop(dragNode);\r\n                        }\r\n                    });\r\n                }   \r\n                else {\r\n                    this.processNodeDrop(dragNode);\r\n                    this.tree.onNodeDrop.emit({\r\n                        originalEvent: event,\r\n                        dragNode: dragNode,\r\n                        dropNode: this.node,\r\n                        index: this.index\r\n                    });\r\n                } \r\n            }\r\n        }\r\n\r\n        this.draghoverNode = false;\r\n    }\r\n\r\n    processNodeDrop(dragNode) {\r\n        let dragNodeIndex = this.tree.dragNodeIndex;\r\n        this.tree.dragNodeSubNodes.splice(dragNodeIndex, 1);\r\n\r\n        if(this.node.children)\r\n            this.node.children.push(dragNode);\r\n        else\r\n            this.node.children = [dragNode];\r\n\r\n        this.tree.dragDropService.stopDrag({\r\n            node: dragNode,\r\n            subNodes: this.node.parent ? this.node.parent.children : this.tree.value,\r\n            index: this.tree.dragNodeIndex\r\n        });\r\n\r\n        \r\n    }\r\n\r\n    onDropNodeDragEnter(event) {\r\n        if(this.tree.droppableNodes && this.node.droppable !== false && this.tree.allowDrop(this.tree.dragNode, this.node, this.tree.dragNodeScope)) {\r\n            this.draghoverNode = true;\r\n        }\r\n    }\r\n\r\n    onDropNodeDragLeave(event) {\r\n        if(this.tree.droppableNodes) {\r\n            let rect = event.currentTarget.getBoundingClientRect();\r\n            if(event.x > rect.left + rect.width || event.x < rect.left || event.y >= Math.floor(rect.top + rect.height) || event.y < rect.top) {\r\n               this.draghoverNode = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    onKeyDown(event: KeyboardEvent) {\r\n        const nodeElement = (<HTMLDivElement> event.target).parentElement.parentElement;\r\n\r\n        if (nodeElement.nodeName !== 'P-TREENODE') {\r\n            return;\r\n        }\r\n\r\n        switch (event.which) {\r\n            //down arrow\r\n            case 40:\r\n                const listElement = (this.tree.droppableNodes) ? nodeElement.children[1].children[1] : nodeElement.children[0].children[1];\r\n                if (listElement && listElement.children.length > 0) {\r\n                    this.focusNode(listElement.children[0]);\r\n                }\r\n                else {\r\n                    const nextNodeElement = nodeElement.nextElementSibling;\r\n                    if (nextNodeElement) {\r\n                        this.focusNode(nextNodeElement);\r\n                    }\r\n                    else {\r\n                        let nextSiblingAncestor = this.findNextSiblingOfAncestor(nodeElement);\r\n                        if (nextSiblingAncestor) {\r\n                            this.focusNode(nextSiblingAncestor);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //up arrow\r\n            case 38:\r\n                if (nodeElement.previousElementSibling) {\r\n                    this.focusNode(this.findLastVisibleDescendant(nodeElement.previousElementSibling));\r\n                }\r\n                else {\r\n                    let parentNodeElement = this.getParentNodeElement(nodeElement);\r\n                    if (parentNodeElement) {\r\n                        this.focusNode(parentNodeElement);\r\n                    }\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //right arrow\r\n            case 39:\r\n                if (!this.node.expanded) {\r\n                    this.expand(event);\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //left arrow\r\n            case 37:\r\n                if (this.node.expanded) {\r\n                    this.collapse(event);\r\n                }\r\n                else {\r\n                    let parentNodeElement = this.getParentNodeElement(nodeElement);\r\n                    if (parentNodeElement) {\r\n                        this.focusNode(parentNodeElement);\r\n                    }\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n            \r\n            //enter\r\n            case 13:\r\n                this.tree.onNodeClick(event, this.node);\r\n                event.preventDefault();\r\n            break;\r\n\r\n            default:\r\n                //no op\r\n            break;\r\n        }\r\n    }\r\n\r\n    findNextSiblingOfAncestor(nodeElement) {\r\n        let parentNodeElement = this.getParentNodeElement(nodeElement);\r\n        if (parentNodeElement) {\r\n            if (parentNodeElement.nextElementSibling)\r\n                return parentNodeElement.nextElementSibling;\r\n            else\r\n                return this.findNextSiblingOfAncestor(parentNodeElement);\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    findLastVisibleDescendant(nodeElement) {\r\n        const childrenListElement = nodeElement.children[0].children[1];\r\n        if (childrenListElement && childrenListElement.children.length > 0) {\r\n            const lastChildElement = childrenListElement.children[childrenListElement.children.length - 1];\r\n\r\n            return this.findLastVisibleDescendant(lastChildElement);\r\n        }\r\n        else {\r\n            return nodeElement;\r\n        }\r\n    }\r\n\r\n    getParentNodeElement(nodeElement) {\r\n        const parentNodeElement = nodeElement.parentElement.parentElement.parentElement;\r\n\r\n        return parentNodeElement.tagName === 'P-TREENODE' ? parentNodeElement : null;\r\n    }\r\n\r\n    focusNode(element) {\r\n        if (this.tree.droppableNodes)\r\n            element.children[1].children[0].focus();\r\n        else\r\n            element.children[0].children[0].focus();\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'p-tree',\r\n    template: `\r\n        <div [ngClass]=\"{'ui-tree ui-widget ui-widget-content ui-corner-all':true,'ui-tree-selectable':selectionMode,'ui-treenode-dragover':dragHover,'ui-tree-loading': loading}\" [ngStyle]=\"style\" [class]=\"styleClass\" *ngIf=\"!horizontal\"\r\n            (drop)=\"onDrop($event)\" (dragover)=\"onDragOver($event)\" (dragenter)=\"onDragEnter($event)\" (dragleave)=\"onDragLeave($event)\">\r\n            <div class=\"ui-tree-loading-mask ui-widget-overlay\" *ngIf=\"loading\"></div>\r\n            <div class=\"ui-tree-loading-content\" *ngIf=\"loading\">\r\n                <i [class]=\"'ui-tree-loading-icon pi-spin ' + loadingIcon\"></i>\r\n            </div>\r\n            <div *ngIf=\"filter\" class=\"ui-tree-filter-container\">\r\n                <input #filter type=\"text\" autocomplete=\"off\" class=\"ui-tree-filter ui-inputtext ui-widget ui-state-default ui-corner-all\" [attr.placeholder]=\"filterPlaceholder\"\r\n                    (keydown.enter)=\"$event.preventDefault()\" (input)=\"onFilter($event)\">\r\n                    <span class=\"ui-tree-filter-icon pi pi-search\"></span>\r\n            </div>\r\n            <ul class=\"ui-tree-container\" *ngIf=\"getRootNode()\" role=\"tree\" [attr.aria-label]=\"ariaLabel\" [attr.aria-labelledby]=\"ariaLabelledBy\">\r\n                <p-treeNode *ngFor=\"let node of getRootNode(); let firstChild=first;let lastChild=last; let index=index; trackBy: nodeTrackBy\" [node]=\"node\"\r\n                [firstChild]=\"firstChild\" [lastChild]=\"lastChild\" [index]=\"index\"></p-treeNode>\r\n            </ul>\r\n            <div class=\"ui-tree-empty-message\" *ngIf=\"!loading && (value == null || value.length === 0)\">{{emptyMessage}}</div>\r\n        </div>\r\n        <div [ngClass]=\"{'ui-tree ui-tree-horizontal ui-widget ui-widget-content ui-corner-all':true,'ui-tree-selectable':selectionMode}\"  [ngStyle]=\"style\" [class]=\"styleClass\" *ngIf=\"horizontal\">\r\n            <div class=\"ui-tree-loading ui-widget-overlay\" *ngIf=\"loading\"></div>\r\n            <div class=\"ui-tree-loading-content\" *ngIf=\"loading\">\r\n                <i [class]=\"'ui-tree-loading-icon pi-spin ' + loadingIcon\"></i>\r\n            </div>\r\n            <table *ngIf=\"value&&value[0]\">\r\n                <p-treeNode [node]=\"value[0]\" [root]=\"true\"></p-treeNode>\r\n            </table>\r\n            <div class=\"ui-tree-empty-message\" *ngIf=\"!loading && (value == null || value.length === 0)\">{{emptyMessage}}</div>\r\n        </div>\r\n    `\r\n})\r\nexport class Tree implements OnInit,AfterContentInit,OnDestroy,BlockableUI {\r\n\r\n    @Input() value: TreeNode[];\r\n\r\n    @Input() selectionMode: string;\r\n\r\n    @Input() selection: any;\r\n\r\n    @Output() selectionChange: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onNodeSelect: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onNodeUnselect: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onNodeExpand: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onNodeCollapse: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onNodeContextMenuSelect: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onNodeDrop: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Input() style: any;\r\n\r\n    @Input() styleClass: string;\r\n\r\n    @Input() contextMenu: any;\r\n\r\n    @Input() layout: string = 'vertical';\r\n\r\n    @Input() draggableScope: any;\r\n\r\n    @Input() droppableScope: any;\r\n\r\n    @Input() draggableNodes: boolean;\r\n\r\n    @Input() droppableNodes: boolean;\r\n\r\n    @Input() metaKeySelection: boolean = true;\r\n\r\n    @Input() propagateSelectionUp: boolean = true;\r\n\r\n    @Input() propagateSelectionDown: boolean = true;\r\n\r\n    @Input() loading: boolean;\r\n\r\n    @Input() loadingIcon: string = 'pi pi-spinner';\r\n\r\n    @Input() emptyMessage: string = 'No records found';\r\n\r\n    @Input() ariaLabel: string;\r\n\r\n    @Input() ariaLabelledBy: string;\r\n\r\n    @Input() validateDrop: boolean;\r\n\r\n    @Input() filter: boolean;\r\n\r\n    @Input() filterBy: string = 'label';\r\n\r\n    @Input() filterMode: string = 'lenient';\r\n\r\n    @Input() filterPlaceholder: string;\r\n\r\n    @Input() nodeTrackBy: Function = (index: number, item: any) => item;\r\n\r\n    @ContentChildren(PrimeTemplate) templates: QueryList<any>;\r\n\r\n    public templateMap: any;\r\n\r\n    public nodeTouched: boolean;\r\n\r\n    public dragNodeTree: Tree;\r\n\r\n    public dragNode: TreeNode;\r\n\r\n    public dragNodeSubNodes: TreeNode[];\r\n\r\n    public dragNodeIndex: number;\r\n\r\n    public dragNodeScope: any;\r\n\r\n    public dragHover: boolean;\r\n\r\n    public dragStartSubscription: Subscription;\r\n\r\n    public dragStopSubscription: Subscription;\r\n\r\n    public filteredNodes: TreeNode[];\r\n\r\n    constructor(public el: ElementRef, @Optional() public dragDropService: TreeDragDropService) {}\r\n\r\n    ngOnInit() {\r\n        if(this.droppableNodes) {\r\n            this.dragStartSubscription = this.dragDropService.dragStart$.subscribe(\r\n              event => {\r\n                this.dragNodeTree = event.tree;\r\n                this.dragNode = event.node;\r\n                this.dragNodeSubNodes = event.subNodes;\r\n                this.dragNodeIndex = event.index;\r\n                this.dragNodeScope = event.scope;\r\n            });\r\n\r\n            this.dragStopSubscription = this.dragDropService.dragStop$.subscribe(\r\n              event => {\r\n                this.dragNodeTree = null;\r\n                this.dragNode = null;\r\n                this.dragNodeSubNodes = null;\r\n                this.dragNodeIndex = null;\r\n                this.dragNodeScope = null;\r\n                this.dragHover = false;\r\n            });\r\n        }\r\n    }\r\n\r\n    get horizontal(): boolean {\r\n        return this.layout == 'horizontal';\r\n    }\r\n\r\n    ngAfterContentInit() {\r\n        if(this.templates.length) {\r\n            this.templateMap = {};\r\n        }\r\n\r\n        this.templates.forEach((item) => {\r\n            this.templateMap[item.name] = item.template;\r\n        });\r\n    }\r\n\r\n    onNodeClick(event, node: TreeNode) {\r\n        let eventTarget = (<Element> event.target);\r\n\r\n        if(DomHandler.hasClass(eventTarget, 'ui-tree-toggler')) {\r\n            return;\r\n        }\r\n        else if(this.selectionMode) {\r\n            if(node.selectable === false) {\r\n                return;\r\n            }\r\n\r\n            if (this.hasFilteredNodes()) {\r\n                node = this.getNodeWithKey(node.key, this.value);\r\n\r\n                if (!node) {\r\n                    return;\r\n                }\r\n            }\r\n\r\n            let index = this.findIndexInSelection(node);\r\n            let selected = (index >= 0);\r\n\r\n            if(this.isCheckboxSelectionMode()) {\r\n                if(selected) {\r\n                    if(this.propagateSelectionDown)\r\n                        this.propagateDown(node, false);\r\n                    else\r\n                        this.selection = this.selection.filter((val,i) => i!=index);\r\n\r\n                    if(this.propagateSelectionUp && node.parent) {\r\n                        this.propagateUp(node.parent, false);\r\n                    }\r\n\r\n                    this.selectionChange.emit(this.selection);\r\n                    this.onNodeUnselect.emit({originalEvent: event, node: node});\r\n                }\r\n                else {\r\n                    if(this.propagateSelectionDown)\r\n                        this.propagateDown(node, true);\r\n                    else\r\n                        this.selection = [...this.selection||[],node];\r\n\r\n                    if(this.propagateSelectionUp && node.parent) {\r\n                        this.propagateUp(node.parent, true);\r\n                    }\r\n\r\n                    this.selectionChange.emit(this.selection);\r\n                    this.onNodeSelect.emit({originalEvent: event, node: node});\r\n                }\r\n            }\r\n            else {\r\n                let metaSelection = this.nodeTouched ? false : this.metaKeySelection;\r\n\r\n                if(metaSelection) {\r\n                    let metaKey = (event.metaKey||event.ctrlKey);\r\n\r\n                    if(selected && metaKey) {\r\n                        if(this.isSingleSelectionMode()) {\r\n                            this.selectionChange.emit(null);\r\n                        }\r\n                        else {\r\n                            this.selection = this.selection.filter((val,i) => i!=index);\r\n                            this.selectionChange.emit(this.selection);\r\n                        }\r\n\r\n                        this.onNodeUnselect.emit({originalEvent: event, node: node});\r\n                    }\r\n                    else {\r\n                        if(this.isSingleSelectionMode()) {\r\n                            this.selectionChange.emit(node);\r\n                        }\r\n                        else if(this.isMultipleSelectionMode()) {\r\n                            this.selection = (!metaKey) ? [] : this.selection||[];\r\n                            this.selection = [...this.selection,node];\r\n                            this.selectionChange.emit(this.selection);\r\n                        }\r\n\r\n                        this.onNodeSelect.emit({originalEvent: event, node: node});\r\n                    }\r\n                }\r\n                else {\r\n                    if(this.isSingleSelectionMode()) {\r\n                        if(selected) {\r\n                            this.selection = null;\r\n                            this.onNodeUnselect.emit({originalEvent: event, node: node});\r\n                        }\r\n                        else {\r\n                            this.selection = node;\r\n                            this.onNodeSelect.emit({originalEvent: event, node: node});\r\n                        }\r\n                    }\r\n                    else {\r\n                        if(selected) {\r\n                            this.selection = this.selection.filter((val,i) => i!=index);\r\n                            this.onNodeUnselect.emit({originalEvent: event, node: node});\r\n                        }\r\n                        else {\r\n                            this.selection = [...this.selection||[],node];\r\n                            this.onNodeSelect.emit({originalEvent: event, node: node});\r\n                        }\r\n                    }\r\n\r\n                    this.selectionChange.emit(this.selection);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.nodeTouched = false;\r\n    }\r\n\r\n    onNodeTouchEnd() {\r\n        this.nodeTouched = true;\r\n    }\r\n\r\n    onNodeRightClick(event: MouseEvent, node: TreeNode) {\r\n        if(this.contextMenu) {\r\n            let eventTarget = (<Element> event.target);\r\n\r\n            if(eventTarget.className && eventTarget.className.indexOf('ui-tree-toggler') === 0) {\r\n                return;\r\n            }\r\n            else {\r\n                let index = this.findIndexInSelection(node);\r\n                let selected = (index >= 0);\r\n\r\n                if(!selected) {\r\n                    if(this.isSingleSelectionMode())\r\n                        this.selectionChange.emit(node);\r\n                    else\r\n                        this.selectionChange.emit([node]);\r\n                }\r\n\r\n                this.contextMenu.show(event);\r\n                this.onNodeContextMenuSelect.emit({originalEvent: event, node: node});\r\n            }\r\n        }\r\n    }\r\n\r\n    findIndexInSelection(node: TreeNode) {\r\n        let index: number = -1;\r\n\r\n        if(this.selectionMode && this.selection) {\r\n            if(this.isSingleSelectionMode()) {\r\n                let areNodesEqual = (this.selection.key && this.selection.key === node.key) || this.selection == node;\r\n                index = areNodesEqual ? 0 : - 1;\r\n            }\r\n            else {\r\n                for(let i = 0; i  < this.selection.length; i++) {\r\n                    let selectedNode = this.selection[i];\r\n                    let areNodesEqual = (selectedNode.key && selectedNode.key === node.key) || selectedNode == node;\r\n                    if(areNodesEqual) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return index;\r\n    }\r\n\r\n    syncNodeOption(node, parentNodes, option, value?: any) {\r\n        // to synchronize the node option between the filtered nodes and the original nodes(this.value) \r\n        const _node = this.hasFilteredNodes() ? this.getNodeWithKey(node.key, parentNodes) : null;\r\n        if (_node) {\r\n            _node[option] = value||node[option];\r\n        }\r\n    }\r\n\r\n    hasFilteredNodes() {\r\n        return this.filter && this.filteredNodes && this.filteredNodes.length;\r\n    }\r\n\r\n    getNodeWithKey(key: string, nodes: TreeNode[]) {\r\n        for (let node of nodes) {\r\n            if (node.key === key) {\r\n                return node;\r\n            }\r\n\r\n            if (node.children) {\r\n                let matchedNode = this.getNodeWithKey(key, node.children);\r\n                if (matchedNode) {\r\n                    return matchedNode;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    propagateUp(node: TreeNode, select: boolean) {\r\n        if(node.children && node.children.length) {\r\n            let selectedCount: number = 0;\r\n            let childPartialSelected: boolean = false;\r\n            for(let child of node.children) {\r\n                if(this.isSelected(child)) {\r\n                    selectedCount++;\r\n                }\r\n                else if(child.partialSelected) {\r\n                    childPartialSelected = true;\r\n                }\r\n            }\r\n\r\n            if(select && selectedCount == node.children.length) {\r\n                this.selection = [...this.selection||[],node];\r\n                node.partialSelected = false;\r\n            }\r\n            else {\r\n                if(!select) {\r\n                    let index = this.findIndexInSelection(node);\r\n                    if(index >= 0) {\r\n                        this.selection = this.selection.filter((val,i) => i!=index);\r\n                    }\r\n                }\r\n\r\n                if(childPartialSelected || selectedCount > 0 && selectedCount != node.children.length)\r\n                    node.partialSelected = true;\r\n                else\r\n                    node.partialSelected = false;\r\n            }\r\n\r\n            this.syncNodeOption(node, this.filteredNodes, 'partialSelected');\r\n        }\r\n\r\n        let parent = node.parent;\r\n        if(parent) {\r\n            this.propagateUp(parent, select);\r\n        }\r\n    }\r\n\r\n    propagateDown(node: TreeNode, select: boolean) {\r\n        let index = this.findIndexInSelection(node);\r\n\r\n        if(select && index == -1) {\r\n            this.selection = [...this.selection||[],node];\r\n        }\r\n        else if(!select && index > -1) {\r\n            this.selection = this.selection.filter((val,i) => i!=index);\r\n        }\r\n\r\n        node.partialSelected = false;\r\n\r\n        this.syncNodeOption(node, this.filteredNodes, 'partialSelected');\r\n\r\n        if(node.children && node.children.length) {\r\n            for(let child of node.children) {\r\n                this.propagateDown(child, select);\r\n            }\r\n        }\r\n    }\r\n\r\n    isSelected(node: TreeNode) {\r\n        return this.findIndexInSelection(node) != -1;\r\n    }\r\n\r\n    isSingleSelectionMode() {\r\n        return this.selectionMode && this.selectionMode == 'single';\r\n    }\r\n\r\n    isMultipleSelectionMode() {\r\n        return this.selectionMode && this.selectionMode == 'multiple';\r\n    }\r\n\r\n    isCheckboxSelectionMode() {\r\n        return this.selectionMode && this.selectionMode == 'checkbox';\r\n    }\r\n\r\n    isNodeLeaf(node) {\r\n        return node.leaf == false ? false : !(node.children && node.children.length);\r\n    }\r\n\r\n    getRootNode() {\r\n        return this.filteredNodes ? this.filteredNodes : this.value;\r\n    }\r\n    \r\n    getTemplateForNode(node: TreeNode): TemplateRef<any> {\r\n        if(this.templateMap)\r\n            return node.type ? this.templateMap[node.type] : this.templateMap['default'];\r\n        else\r\n            return null;\r\n    }    \r\n\r\n    onDragOver(event) {\r\n        if(this.droppableNodes && (!this.value || this.value.length === 0)) {\r\n            event.dataTransfer.dropEffect = 'move';\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    onDrop(event) {\r\n        if(this.droppableNodes && (!this.value || this.value.length === 0)) {\r\n            event.preventDefault();\r\n            let dragNode = this.dragNode;\r\n            if(this.allowDrop(dragNode, null, this.dragNodeScope)) {\r\n                let dragNodeIndex = this.dragNodeIndex;\r\n                this.dragNodeSubNodes.splice(dragNodeIndex, 1);\r\n                this.value = this.value||[];\r\n                this.value.push(dragNode);\r\n\r\n                this.dragDropService.stopDrag({\r\n                    node: dragNode\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onDragEnter(event) {\r\n        if(this.droppableNodes && this.allowDrop(this.dragNode, null, this.dragNodeScope)) {\r\n            this.dragHover = true;\r\n        }\r\n    }\r\n\r\n    onDragLeave(event) {\r\n        if(this.droppableNodes) {\r\n            let rect = event.currentTarget.getBoundingClientRect();\r\n            if(event.x > rect.left + rect.width || event.x < rect.left || event.y > rect.top + rect.height || event.y < rect.top) {\r\n               this.dragHover = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    allowDrop(dragNode: TreeNode, dropNode: TreeNode, dragNodeScope: any): boolean {\r\n        if(!dragNode) {\r\n            //prevent random html elements to be dragged\r\n            return false;\r\n        }\r\n        else if(this.isValidDragScope(dragNodeScope)) {\r\n            let allow: boolean = true;\r\n            if(dropNode) {\r\n                if(dragNode === dropNode) {\r\n                    allow = false;\r\n                }\r\n                else {\r\n                    let parent = dropNode.parent;\r\n                    while(parent != null) {\r\n                        if(parent === dragNode) {\r\n                            allow = false;\r\n                            break;\r\n                        }\r\n                        parent = parent.parent;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return allow;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    isValidDragScope(dragScope: any): boolean {\r\n        let dropScope = this.droppableScope;\r\n\r\n        if(dropScope) {\r\n            if(typeof dropScope === 'string') {\r\n                if(typeof dragScope === 'string')\r\n                    return dropScope === dragScope;\r\n                else if(dragScope instanceof Array)\r\n                    return (<Array<any>>dragScope).indexOf(dropScope) != -1;\r\n            }\r\n            else if(dropScope instanceof Array) {\r\n                if(typeof dragScope === 'string') {\r\n                    return (<Array<any>>dropScope).indexOf(dragScope) != -1;\r\n                }\r\n                else if(dragScope instanceof Array) {\r\n                    for(let s of dropScope) {\r\n                        for(let ds of dragScope) {\r\n                            if(s === ds) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    onFilter(event) {\r\n        let filterValue = event.target.value;\r\n        if (filterValue === '') {\r\n            this.filteredNodes = null;\r\n        }\r\n        else {\r\n            this.filteredNodes = [];\r\n            const searchFields: string[] = this.filterBy.split(',');\r\n            const filterText = ObjectUtils.removeAccents(filterValue).toLowerCase();\r\n            const isStrictMode = this.filterMode === 'strict';\r\n            for(let node of this.value) {\r\n                let copyNode = {...node};\r\n                let paramsWithoutNode = {searchFields, filterText, isStrictMode};\r\n                if ((isStrictMode && (this.findFilteredNodes(copyNode, paramsWithoutNode) || this.isFilterMatched(copyNode, paramsWithoutNode))) ||\r\n                    (!isStrictMode && (this.isFilterMatched(copyNode, paramsWithoutNode) || this.findFilteredNodes(copyNode, paramsWithoutNode)))) {\r\n                    this.filteredNodes.push(copyNode);\r\n                }\r\n            }\r\n        }  \r\n    }\r\n\r\n    findFilteredNodes(node, paramsWithoutNode) {\r\n        if (node) {\r\n            let matched = false;\r\n            if (node.children) {\r\n                let childNodes = [...node.children];\r\n                node.children = [];\r\n                for (let childNode of childNodes) {\r\n                    let copyChildNode = {...childNode};\r\n                    if (this.isFilterMatched(copyChildNode, paramsWithoutNode)) {\r\n                        matched = true;\r\n                        node.children.push(copyChildNode);\r\n                    }\r\n                }\r\n            }\r\n            \r\n            if (matched) {\r\n                node.expanded = true;\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n    isFilterMatched(node, {searchFields, filterText, isStrictMode}) {\r\n        let matched = false;\r\n        for(let field of searchFields) {\r\n            let fieldValue = ObjectUtils.removeAccents(String(ObjectUtils.resolveFieldData(node, field))).toLowerCase();\r\n            if(fieldValue.indexOf(filterText) > -1) {\r\n                matched = true;\r\n            }\r\n        }\r\n\r\n        if (!matched || (isStrictMode && !this.isNodeLeaf(node))) {\r\n            matched = this.findFilteredNodes(node, {searchFields, filterText, isStrictMode}) || matched;\r\n        }\r\n\r\n        return matched;\r\n    }\r\n\r\n    getBlockableElement(): HTMLElement {\r\n      return this.el.nativeElement.children[0];\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if(this.dragStartSubscription) {\r\n            this.dragStartSubscription.unsubscribe();\r\n        }\r\n\r\n        if(this.dragStopSubscription) {\r\n            this.dragStopSubscription.unsubscribe();\r\n        }\r\n    }\r\n}\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    exports: [Tree,SharedModule],\r\n    declarations: [Tree,UITreeNode]\r\n})\r\nexport class TreeModule { }\r\n"],"sourceRoot":""}